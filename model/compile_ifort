# Compilation avec ifort.

# Programes source. Lister entre guillemets si plus d'un fichier.
# Ne PAS utiliser le ~ pour faire reference au repertoire HOME: Utiliser $HOME.

SRC="ran_mod.f90 OPA_GET_XY_LL.f90 ll_to_xy_NEMO.f90 part_def.f90 update2.f90 zeros.f90 part.f90 part_model.f90"


# Requis pour compiler avec PGI fortran

INCDIR=-I/usr/local/include

LIBDIR="-L/usr/local/lib -L/usr/local/composer_xe_2013_sp1.1.106/compiler/lib/intel64"

LIBS=-lnetcdff

# Options de pre-processing -DBACK = transport backward in time. Par defaut forward.

PP="-cpp -DBACK"
#PP=-Mpreprocess


# Optimization options

#OPT="-O3 -fopenmp"
OPT="-m64 -C -g -O0"


# Nom de l'executable a generer

EXE=part_BWD.x


# Compilation
ifort $PP $OPT $INCDIR $LIBDIR $SRC $LIBS -o $EXE

mv -i $EXE ../Run
